{"version":3,"sources":["../src/http.exception.filter.ts"],"sourcesContent":["import {\n  ArgumentsHost,\n  Catch,\n  ExceptionFilter,\n  HttpException,\n} from \"@nestjs/common\";\n\nimport { Response } from \"express\";\n\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse<Response>();\n    const status = exception.getStatus();\n\n    response.status(status).json({\n      status: \"error\",\n      statusCode: status,\n      message: exception.message,\n      timestamp: new Date().toISOString(),\n    });\n  }\n}\n"],"names":["HttpExceptionFilter","catch","exception","host","ctx","switchToHttp","response","getResponse","status","getStatus","json","statusCode","message","timestamp","Date","toISOString","Catch","HttpException"],"mappings":";;;;+BAUaA;;;eAAAA;;;wBALN;;;;;;;IAKMA,sBAAN;IACLC,MAAMC,SAAwB,EAAEC,IAAmB,EAAE;QACnD,MAAMC,MAAMD,KAAKE,YAAY;QAC7B,MAAMC,WAAWF,IAAIG,WAAW;QAChC,MAAMC,SAASN,UAAUO,SAAS;QAElCH,SAASE,MAAM,CAACA,QAAQE,IAAI,CAAC;YAC3BF,QAAQ;YACRG,YAAYH;YACZI,SAASV,UAAUU,OAAO;YAC1BC,WAAW,IAAIC,OAAOC,WAAW;QACnC;IACF;AACF;AAbaf;IADZgB,IAAAA,aAAK,EAACC,qBAAa;GACPjB"}