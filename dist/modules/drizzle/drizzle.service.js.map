{"version":3,"sources":["../../../src/modules/drizzle/drizzle.service.ts"],"sourcesContent":["import { Injectable } from \"@nestjs/common\";\nimport { Cron, CronExpression } from \"@nestjs/schedule\";\nimport { InjectDrizzle } from \"./drizzle.constants\";\nimport { Database } from \"./drizzle.types\";\nimport { users } from \"./schemas\";\nimport { eq } from \"drizzle-orm\";\n\n@Injectable()\nexport class DrizzleService {\n  constructor(@InjectDrizzle() private readonly db: Database) {}\n\n  @Cron(CronExpression.EVERY_5_MINUTES)\n  async reconnectDb() {\n    const result = await this.db.select().from(users).where(eq(users.id, \"\"));\n  }\n}\n"],"names":["DrizzleService","reconnectDb","result","db","select","from","users","where","eq","id","constructor","Cron","CronExpression","EVERY_5_MINUTES","Injectable","InjectDrizzle"],"mappings":";;;;+BAQaA;;;eAAAA;;;wBARc;0BACU;kCACP;8BACL;yBACH;4BACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGNA,iBAAN;IAGL,MACMC,cAAc;QAClB,MAAMC,SAAS,MAAM,IAAI,CAACC,EAAE,CAACC,MAAM,GAAGC,IAAI,CAACC,cAAK,EAAEC,KAAK,CAACC,IAAAA,cAAE,EAACF,cAAK,CAACG,EAAE,EAAE;IACvE;IALAC,YAA8CP,GAAc;+BAAdA;kBAAAA;IAAe;AAM/D;;IAJGQ,IAAAA,cAAI,EAACC,wBAAc,CAACC,eAAe;;;GAHzBb;AAAAA;IADZc,IAAAA,kBAAU;IAEIC,aAAAA,IAAAA,+BAAa;;;eAAwB,sBAAQ,4BAAR,sBAAQ;;GAD/Cf"}