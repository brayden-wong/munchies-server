{"version":3,"sources":["../../../../src/modules/drizzle/schemas/recipes.ts"],"sourcesContent":["import {\n  boolean,\n  json,\n  pgTable,\n  text,\n  timestamp,\n  varchar,\n} from \"drizzle-orm/pg-core\";\nimport { relations } from \"drizzle-orm\";\nimport { usersToRecipes } from \"./usersToRecipes\";\nimport { Ingredient, Steps } from \"@/modules/recipes\";\nimport { users } from \"./users\";\n\nexport const recipes = pgTable(\"recipes\", {\n  id: varchar(\"id\", { length: 36 }).primaryKey(),\n  name: varchar(\"name\", { length: 60 }).notNull(),\n  description: text(\"description\").notNull(),\n  ingredients: json(\"ingredients\").$type<Array<Ingredient>>().notNull(),\n  steps: json(\"steps\").$type<Array<Steps>>().notNull(),\n\n  public: boolean(\"public\").notNull().default(false),\n  authorId: varchar(\"authorId\", { length: 36 }),\n  createdAt: timestamp(\"createdAt\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updatedAt\").notNull().defaultNow(),\n});\n\nexport const recipeRelations = relations(recipes, ({ many, one }) => ({\n  usersToRecipes: many(usersToRecipes),\n  users: one(users, {\n    fields: [recipes.authorId],\n    references: [users.id],\n  }),\n}));\n"],"names":["recipes","recipeRelations","pgTable","id","varchar","length","primaryKey","name","notNull","description","text","ingredients","json","$type","steps","public","boolean","default","authorId","createdAt","timestamp","defaultNow","updatedAt","relations","many","one","usersToRecipes","users","fields","references"],"mappings":";;;;;;;;;;;IAaaA,OAAO;eAAPA;;IAaAC,eAAe;eAAfA;;;wBAnBN;4BACmB;gCACK;uBAET;AAEf,MAAMD,UAAUE,IAAAA,eAAO,EAAC,WAAW;IACxCC,IAAIC,IAAAA,eAAO,EAAC,MAAM;QAAEC,QAAQ;IAAG,GAAGC,UAAU;IAC5CC,MAAMH,IAAAA,eAAO,EAAC,QAAQ;QAAEC,QAAQ;IAAG,GAAGG,OAAO;IAC7CC,aAAaC,IAAAA,YAAI,EAAC,eAAeF,OAAO;IACxCG,aAAaC,IAAAA,YAAI,EAAC,eAAeC,KAAK,GAAsBL,OAAO;IACnEM,OAAOF,IAAAA,YAAI,EAAC,SAASC,KAAK,GAAiBL,OAAO;IAElDO,QAAQC,IAAAA,eAAO,EAAC,UAAUR,OAAO,GAAGS,OAAO,CAAC;IAC5CC,UAAUd,IAAAA,eAAO,EAAC,YAAY;QAAEC,QAAQ;IAAG;IAC3Cc,WAAWC,IAAAA,iBAAS,EAAC,aAAaZ,OAAO,GAAGa,UAAU;IACtDC,WAAWF,IAAAA,iBAAS,EAAC,aAAaZ,OAAO,GAAGa,UAAU;AACxD;AAEO,MAAMpB,kBAAkBsB,IAAAA,qBAAS,EAACvB,SAAS,CAAC,EAAEwB,IAAI,EAAEC,GAAG,EAAE,GAAM,CAAA;QACpEC,gBAAgBF,KAAKE,8BAAc;QACnCC,OAAOF,IAAIE,YAAK,EAAE;YAChBC,QAAQ;gBAAC5B,QAAQkB,QAAQ;aAAC;YAC1BW,YAAY;gBAACF,YAAK,CAACxB,EAAE;aAAC;QACxB;IACF,CAAA"}