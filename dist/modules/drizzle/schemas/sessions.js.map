{"version":3,"sources":["../../../../src/modules/drizzle/schemas/sessions.ts"],"sourcesContent":["import { pgTable, timestamp, uniqueIndex, varchar } from \"drizzle-orm/pg-core\";\nimport { users } from \"./users\";\n\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    id: varchar(\"id\", { length: 36 }).primaryKey(),\n    refreshToken: varchar(\"refreshToken\", { length: 255 }).notNull(),\n    expiration: timestamp(\"expiration\").notNull(),\n    userId: varchar(\"userId\", { length: 36 })\n      .notNull()\n      .references(() => users.id, { onDelete: \"cascade\" }),\n  },\n  (table) => {\n    return {\n      tokenIndex: uniqueIndex(\"tokenIndex\").on(table.refreshToken),\n      userIndex: uniqueIndex(\"userIndex\").on(table.userId),\n    };\n  },\n);\n"],"names":["sessions","pgTable","id","varchar","length","primaryKey","refreshToken","notNull","expiration","timestamp","userId","references","users","onDelete","table","tokenIndex","uniqueIndex","on","userIndex"],"mappings":";;;;+BAGaA;;;eAAAA;;;wBAH4C;uBACnC;AAEf,MAAMA,WAAWC,IAAAA,eAAO,EAC7B,YACA;IACEC,IAAIC,IAAAA,eAAO,EAAC,MAAM;QAAEC,QAAQ;IAAG,GAAGC,UAAU;IAC5CC,cAAcH,IAAAA,eAAO,EAAC,gBAAgB;QAAEC,QAAQ;IAAI,GAAGG,OAAO;IAC9DC,YAAYC,IAAAA,iBAAS,EAAC,cAAcF,OAAO;IAC3CG,QAAQP,IAAAA,eAAO,EAAC,UAAU;QAAEC,QAAQ;IAAG,GACpCG,OAAO,GACPI,UAAU,CAAC,IAAMC,YAAK,CAACV,EAAE,EAAE;QAAEW,UAAU;IAAU;AACtD,GACA,CAACC;IACC,OAAO;QACLC,YAAYC,IAAAA,mBAAW,EAAC,cAAcC,EAAE,CAACH,MAAMR,YAAY;QAC3DY,WAAWF,IAAAA,mBAAW,EAAC,aAAaC,EAAE,CAACH,MAAMJ,MAAM;IACrD;AACF"}