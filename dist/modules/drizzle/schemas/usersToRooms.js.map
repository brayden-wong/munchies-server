{"version":3,"sources":["../../../../src/modules/drizzle/schemas/usersToRooms.ts"],"sourcesContent":["import { pgTable, primaryKey, varchar } from \"drizzle-orm/pg-core\";\nimport { users } from \"./users\";\nimport { rooms } from \"./rooms\";\nimport { relations } from \"drizzle-orm\";\n\nexport const usersToRooms = pgTable(\n  \"usersToRooms\",\n  {\n    userId: varchar(\"userId\", { length: 36 })\n      .notNull()\n      .references(() => users.id, {\n        onDelete: \"cascade\",\n      }),\n    roomId: varchar(\"roomId\", { length: 36 })\n      .notNull()\n      .references(() => rooms.id, { onDelete: \"cascade\" }),\n  },\n  (table) => ({\n    primaryKey: primaryKey(table.userId, table.roomId),\n  }),\n);\n\nexport const usersToRoomsRelations = relations(usersToRooms, ({ one }) => ({\n  user: one(users, {\n    fields: [usersToRooms.userId],\n    references: [users.id],\n  }),\n  room: one(rooms, {\n    fields: [usersToRooms.roomId],\n    references: [rooms.id],\n  }),\n}));\n"],"names":["usersToRooms","usersToRoomsRelations","pgTable","userId","varchar","length","notNull","references","users","id","onDelete","roomId","rooms","table","primaryKey","relations","one","user","fields","room"],"mappings":";;;;;;;;;;;IAKaA,YAAY;eAAZA;;IAiBAC,qBAAqB;eAArBA;;;wBAtBgC;uBACvB;uBACA;4BACI;AAEnB,MAAMD,eAAeE,IAAAA,eAAO,EACjC,gBACA;IACEC,QAAQC,IAAAA,eAAO,EAAC,UAAU;QAAEC,QAAQ;IAAG,GACpCC,OAAO,GACPC,UAAU,CAAC,IAAMC,YAAK,CAACC,EAAE,EAAE;QAC1BC,UAAU;IACZ;IACFC,QAAQP,IAAAA,eAAO,EAAC,UAAU;QAAEC,QAAQ;IAAG,GACpCC,OAAO,GACPC,UAAU,CAAC,IAAMK,YAAK,CAACH,EAAE,EAAE;QAAEC,UAAU;IAAU;AACtD,GACA,CAACG,QAAW,CAAA;QACVC,YAAYA,IAAAA,kBAAU,EAACD,MAAMV,MAAM,EAAEU,MAAMF,MAAM;IACnD,CAAA;AAGK,MAAMV,wBAAwBc,IAAAA,qBAAS,EAACf,cAAc,CAAC,EAAEgB,GAAG,EAAE,GAAM,CAAA;QACzEC,MAAMD,IAAIR,YAAK,EAAE;YACfU,QAAQ;gBAAClB,aAAaG,MAAM;aAAC;YAC7BI,YAAY;gBAACC,YAAK,CAACC,EAAE;aAAC;QACxB;QACAU,MAAMH,IAAIJ,YAAK,EAAE;YACfM,QAAQ;gBAAClB,aAAaW,MAAM;aAAC;YAC7BJ,YAAY;gBAACK,YAAK,CAACH,EAAE;aAAC;QACxB;IACF,CAAA"}