{"version":3,"sources":["../../../../../src/modules/auth/services/strategies/at.strategy.ts"],"sourcesContent":["import { STRATEGIES, Token } from \"@/utils\";\nimport { Inject, Injectable } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { PassportStrategy } from \"@nestjs/passport\";\nimport { ExtractJwt, Strategy } from \"passport-jwt\";\n\n@Injectable()\nexport class AtStrategy extends PassportStrategy(Strategy, STRATEGIES.AT) {\n  constructor(@Inject(ConfigService) private readonly config: ConfigService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      ignoreExpiration: false,\n      secretOrKey: config.get<string>(\"AT_SECRET\"),\n    });\n  }\n\n  async validate(payload: Token) {\n    return payload;\n  }\n}\n"],"names":["AtStrategy","PassportStrategy","Strategy","STRATEGIES","AT","validate","payload","constructor","config","jwtFromRequest","ExtractJwt","fromAuthHeaderAsBearerToken","ignoreExpiration","secretOrKey","get","Injectable","Inject","ConfigService"],"mappings":";;;;+BAOaA;;;eAAAA;;;uBAPqB;wBACC;wBACL;0BACG;6BACI;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGxBA,aAAN,yBAAyBC,IAAAA,0BAAgB,EAACC,qBAAQ,EAAEC,iBAAU,CAACC,EAAE;IAStE,MAAMC,SAASC,OAAc,EAAE;QAC7B,OAAOA;IACT;IAVAC,YAAoDC,OAAuB;QACzE,KAAK,CAAC;YACJC,gBAAgBC,uBAAU,CAACC,2BAA2B;YACtDC,kBAAkB;YAClBC,aAAaL,OAAOM,GAAG,CAAS;QAClC;+BALkDN;sBAAAA;IAMpD;AAKF;AAZaR;IADZe,IAAAA,kBAAU;IAEIC,aAAAA,IAAAA,cAAM,EAACC,qBAAa;;;eAA2B,qBAAa,4BAAb,qBAAa;;GAD9DjB"}