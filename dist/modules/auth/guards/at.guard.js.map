{"version":3,"sources":["../../../../src/modules/auth/guards/at.guard.ts"],"sourcesContent":["import { GUARDS } from \"@/utils\";\nimport { ExecutionContext, Inject, Injectable } from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { AuthGuard } from \"@nestjs/passport\";\n\n@Injectable()\nexport class AtGuard extends AuthGuard(GUARDS.AT) {\n  constructor(@Inject(Reflector) private readonly reflector: Reflector) {\n    super();\n  }\n\n  canActivate(context: ExecutionContext) {\n    const isPublic = this.reflector.getAllAndOverride(\"isPublic\", [\n      context.getHandler(),\n      context.getClass(),\n    ]);\n\n    return isPublic ? true : super.canActivate(context);\n  }\n}\n"],"names":["AtGuard","AuthGuard","GUARDS","AT","canActivate","context","isPublic","reflector","getAllAndOverride","getHandler","getClass","constructor","Injectable","Inject","Reflector"],"mappings":";;;;+BAMaA;;;eAAAA;;;uBANU;wBAC8B;sBAC3B;0BACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGbA,UAAN,sBAAsBC,IAAAA,mBAAS,EAACC,aAAM,CAACC,EAAE;IAK9CC,YAAYC,OAAyB,EAAE;QACrC,MAAMC,WAAW,IAAI,CAACC,SAAS,CAACC,iBAAiB,CAAC,YAAY;YAC5DH,QAAQI,UAAU;YAClBJ,QAAQK,QAAQ;SACjB;QAED,OAAOJ,WAAW,OAAO,KAAK,CAACF,YAAYC;IAC7C;IAXAM,YAAgDJ,UAAsB;QACpE,KAAK;+BADyCA;yBAAAA;IAEhD;AAUF;AAbaP;IADZY,IAAAA,kBAAU;IAEIC,aAAAA,IAAAA,cAAM,EAACC,eAAS;;;eAA8B,eAAS,4BAAT,eAAS;;GADzDd"}