{"version":3,"sources":["../../../src/modules/users/users.controller.ts"],"sourcesContent":["import {\n  Body,\n  Controller,\n  Delete,\n  Get,\n  HttpException,\n  HttpStatus,\n  Patch,\n  Query,\n} from \"@nestjs/common\";\nimport { UsersService } from \"./users.service\";\nimport { UpdateUserDto } from \"./users.types\";\nimport { Public, UserId } from \"@/utils\";\n\n@Controller(\"users\")\nexport class UsersController {\n  constructor(private readonly usersService: UsersService) {}\n\n  @Get()\n  async getUser(@UserId() id: string) {\n    const result = await this.usersService.getUser({ query: \"id\", value: id });\n\n    if (!result)\n      throw new HttpException(\"User not found\", HttpStatus.NOT_FOUND);\n\n    return {\n      status: \"ok\",\n      statusCode: 200,\n      data: result,\n    };\n  }\n\n  @Public()\n  @Get(\"all\")\n  async getUsers() {\n    const users = await this.usersService.getUsers();\n\n    if (!users)\n      return {\n        status: \"error\",\n        statusCode: 500,\n        message: \"Error retrieving users\",\n      };\n\n    return {\n      status: \"ok\",\n      statusCode: 200,\n      data: users,\n    };\n  }\n\n  @Patch()\n  async updateUser(@UserId() id: string, @Body() updateUserDto: UpdateUserDto) {\n    const result = await this.usersService.updateUser(id, updateUserDto);\n\n    if (!result)\n      throw new HttpException(\"User not found\", HttpStatus.NOT_FOUND);\n\n    return {\n      status: \"ok\",\n      statusCode: 200,\n      data: result,\n    };\n  }\n\n  @Patch(\"activate\")\n  async activateUser(@UserId() id: string) {\n    const result = await this.usersService.activateUser(id);\n\n    if (!result)\n      throw new HttpException(\"User not found\", HttpStatus.NOT_FOUND);\n\n    return {\n      status: \"ok\",\n      statusCode: 200,\n      data: result,\n    };\n  }\n\n  @Patch(\"deactivate\")\n  async deactivateUser(@UserId() id: string) {\n    const result = await this.usersService.deactivateUser(id);\n\n    if (!result)\n      throw new HttpException(\"User not found\", HttpStatus.NOT_FOUND);\n\n    return {\n      status: \"ok\",\n      statusCode: 200,\n      data: result,\n    };\n  }\n\n  @Delete(\":id\")\n  async deleteUser(@Query(\"userId\") userId: string) {\n    const result = await this.usersService.deleteUser(userId);\n\n    if (!result)\n      throw new HttpException(\"User not found\", HttpStatus.NOT_FOUND);\n\n    return {\n      status: \"ok\",\n      statusCode: 200,\n      data: result,\n    };\n  }\n}\n"],"names":["UsersController","getUser","id","result","usersService","query","value","HttpException","HttpStatus","NOT_FOUND","status","statusCode","data","getUsers","users","message","updateUser","updateUserDto","activateUser","deactivateUser","deleteUser","userId","constructor","Get","UserId","Public","Patch","Body","Delete","Query","Controller"],"mappings":";;;;+BAeaA;;;eAAAA;;;wBANN;8BACsB;4BACC;uBACC;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGlBA,kBAAN;IAGL,MACMC,QAAQ,AAAUC,EAAU,EAAE;QAClC,MAAMC,SAAS,MAAM,IAAI,CAACC,YAAY,CAACH,OAAO,CAAC;YAAEI,OAAO;YAAMC,OAAOJ;QAAG;QAExE,IAAI,CAACC,QACH,MAAM,IAAII,qBAAa,CAAC,kBAAkBC,kBAAU,CAACC,SAAS;QAEhE,OAAO;YACLC,QAAQ;YACRC,YAAY;YACZC,MAAMT;QACR;IACF;IAEA,MAEMU,WAAW;QACf,MAAMC,QAAQ,MAAM,IAAI,CAACV,YAAY,CAACS,QAAQ;QAE9C,IAAI,CAACC,OACH,OAAO;YACLJ,QAAQ;YACRC,YAAY;YACZI,SAAS;QACX;QAEF,OAAO;YACLL,QAAQ;YACRC,YAAY;YACZC,MAAME;QACR;IACF;IAEA,MACME,WAAW,AAAUd,EAAU,EAAE,AAAQe,aAA4B,EAAE;QAC3E,MAAMd,SAAS,MAAM,IAAI,CAACC,YAAY,CAACY,UAAU,CAACd,IAAIe;QAEtD,IAAI,CAACd,QACH,MAAM,IAAII,qBAAa,CAAC,kBAAkBC,kBAAU,CAACC,SAAS;QAEhE,OAAO;YACLC,QAAQ;YACRC,YAAY;YACZC,MAAMT;QACR;IACF;IAEA,MACMe,aAAa,AAAUhB,EAAU,EAAE;QACvC,MAAMC,SAAS,MAAM,IAAI,CAACC,YAAY,CAACc,YAAY,CAAChB;QAEpD,IAAI,CAACC,QACH,MAAM,IAAII,qBAAa,CAAC,kBAAkBC,kBAAU,CAACC,SAAS;QAEhE,OAAO;YACLC,QAAQ;YACRC,YAAY;YACZC,MAAMT;QACR;IACF;IAEA,MACMgB,eAAe,AAAUjB,EAAU,EAAE;QACzC,MAAMC,SAAS,MAAM,IAAI,CAACC,YAAY,CAACe,cAAc,CAACjB;QAEtD,IAAI,CAACC,QACH,MAAM,IAAII,qBAAa,CAAC,kBAAkBC,kBAAU,CAACC,SAAS;QAEhE,OAAO;YACLC,QAAQ;YACRC,YAAY;YACZC,MAAMT;QACR;IACF;IAEA,MACMiB,WAAW,AAAiBC,MAAc,EAAE;QAChD,MAAMlB,SAAS,MAAM,IAAI,CAACC,YAAY,CAACgB,UAAU,CAACC;QAElD,IAAI,CAAClB,QACH,MAAM,IAAII,qBAAa,CAAC,kBAAkBC,kBAAU,CAACC,SAAS;QAEhE,OAAO;YACLC,QAAQ;YACRC,YAAY;YACZC,MAAMT;QACR;IACF;IAzFAmB,YAA6BlB,aAA4B;+BAA5BA;4BAAAA;IAA6B;AA0F5D;;IAxFGmB,IAAAA,WAAG;IACWC,aAAAA,IAAAA,aAAM;;;;;GAJVxB;;IAiBVyB,IAAAA,aAAM;IACNF,IAAAA,WAAG,EAAC;;;GAlBMvB;;IAoCV0B,IAAAA,aAAK;IACYF,aAAAA,IAAAA,aAAM;IAAgBG,aAAAA,IAAAA,YAAI;;;;eAAkB,yBAAa,4BAAb,yBAAa;;GArChE3B;;IAkDV0B,IAAAA,aAAK,EAAC;IACaF,aAAAA,IAAAA,aAAM;;;;;GAnDfxB;;IAgEV0B,IAAAA,aAAK,EAAC;IACeF,aAAAA,IAAAA,aAAM;;;;;GAjEjBxB;;IA8EV4B,IAAAA,cAAM,EAAC;IACUC,aAAAA,IAAAA,aAAK,EAAC;;;;;GA/Eb7B;AAAAA;IADZ8B,IAAAA,kBAAU,EAAC;;;eAEiC,0BAAY,4BAAZ,0BAAY;;GAD5C9B"}